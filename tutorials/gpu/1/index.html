<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/hypertext.css"> <link rel=icon  href="/assets/favicon.png"> <title></title> <header class=franklin-header > <div class=navbar > <a class=Tryzub  style="text-decoration:none;" href="https://savelife.in.ua/en/donate-en/#donate-army-card-monthly" target=_blank >A</a> <a href="/">Anton Smirnov</a> <a href="/posts/posts">Posts</a> <a href="/tutorials/intro">Скарбничка знань</a> </div> </header> <div class=franklin-content ><p><strong>Чому Julia?</strong></p> <p>Julia має <a href="https://juliagpu.org/">першколасну підтримку</a> програмування відеокарт.<br/> На момент створення цих уроків, вже існує підтримка програмування відеокарт Nvidia &#40;<a href="https://github.com/JuliaGPU/CUDA.jl">CUDA.jl</a>&#41;, AMD &#40;<a href="https://github.com/JuliaGPU/AMDGPU.jl">AMDGPU.jl</a>&#41;, Apple &#40;<a href="https://github.com/JuliaGPU/Metal.jl">Metal.jl</a>&#41;, Intel &#40;<a href="https://github.com/JuliaGPU/oneAPI.jl">oneAPI.jl</a>&#41;.</p> <p>Інші мови програмування не мають таких гнучких можливостей та час не резиновий. Наприклад, у випадку з Python можна було б розглянути PyTorch але це б обмежило нас функціоналом який вже існує в ньому. Для написання низькорівневих програм &#40;ядер / kernels&#41;, які працюватимуть на відеокарті нам довелося б спускатися на рівень нижче та використовувати С/C&#43;&#43;.В результаті багато часу було б витрачено на створення &quot;інфраструктури&quot; навколо коду.</p> <p>В даній серії уроків буде розглянуто програмування Nvidia та AMD відеокарт.</p> <p>Дані уроки розраховують на базові навички програмування, тому деякі речі можуть не бути пояснені дуже детально.</p> <hr /> <p><strong>Встановлення</strong></p> <ol> <li><p>Cкачати Julia <a href="https://julialang.org/downloads/#current_stable_release">тут</a>.</p> <li><p>Запустити Julia REPL:<br/> <code>&lt;path-to-julia&gt;/bin/julia --threads&#61;auto</code></p> <li><p>Додати відповідний пакет для програмування відеокарти:</p> <ul> <li><p>Nvidia: <code>&#93; add CUDA</code></p> <li><p>AMD: <code>&#93; add AMDGPU</code></p> </ul> </ol> <blockquote> <p><strong>Замітка:</strong> символ <code>&#93;</code> переводить вас в режим пакетного менеджера Julia, де відбувається встановлення/видалення/оновлення пакетів. Для повернення назад в режим REPL, необхідно натиснути <code>Backspace</code>.</p> </blockquote> <ol start=4 > <li><p>У випадку з Nvidia, пакет CUDA.jl автоматично встановлює всі необхідні бібліотеки для програмування.<br/> Для AMD, їх необхідно встановити вручну. Детальніша інформація доступна в табличці за <a href="https://amdgpu.juliagpu.org/dev/#Requirements">посиланням</a>.</p> </ol> <p>Тепер, все готово для початку роботи.</p> <hr /> <p><strong>Перша програма для GPU</strong></p> <p>Перевіримо чи все встановлено правильно виконаємо наступний код, який створить масив з <code>16</code> елементів типу <code>Float32</code>, заповнить його одиницями та обчислить суму, яка має дорівнювати <code>16</code>.</p> <p>CUDA:</p> <pre><code class="julia hljs">julia&gt; <span class=hljs-keyword >using</span> CUDA

julia&gt; x = CUDA.ones(<span class=hljs-built_in >Float32</span>, <span class=hljs-number >16</span>);

julia&gt; sum(x)
<span class=hljs-number >16.0f0</span></code></pre> <p>AMD GPU:</p> <pre><code class="julia hljs">julia&gt; <span class=hljs-keyword >using</span> AMDGPU

julia&gt; x = AMDGPU.ones(<span class=hljs-built_in >Float32</span>, <span class=hljs-number >16</span>);

julia&gt; sum(x)
<span class=hljs-number >16.0f0</span></code></pre> <p>Як бачимо, код для Nvidia та AMD GPU відрізняється тільки префіксом &#40;або <code>CUDA.</code> або <code>AMDGPU.</code>&#41;. Тому надалі приклади будуть писатися тільки для однієї відеокарти, а де необхідно, додаватися уточненя які потрібні для роботи на тій чи іншій відеокарті.</p> <div class=page-foot > <div class=navbar > <a href="mailto:tonysmn97@gmail.com">tonysmn97@gmail.com</a> <a href="https://github.com/pxl-th">github</a> <a href="https://www.instagram.com/pxl_th/">instagram</a> </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>